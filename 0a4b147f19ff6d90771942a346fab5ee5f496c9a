{
  "comments": [
    {
      "key": {
        "uuid": "1c6a107b_cf40d9ad",
        "filename": "containers/base/common.sh",
        "patchSetId": 13
      },
      "lineNbr": 262,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "please describe it somewhere",
      "range": {
        "startLine": 262,
        "startChar": 9,
        "endLine": 262,
        "endChar": 23
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7cef0fcf_adb81d89",
        "filename": "containers/base/common.sh",
        "patchSetId": 13
      },
      "lineNbr": 262,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "1c6a107b_cf40d9ad",
      "range": {
        "startLine": 262,
        "startChar": 9,
        "endLine": 262,
        "endChar": 23
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cfc51a60_b1115310",
        "filename": "containers/base/common.sh",
        "patchSetId": 13
      },
      "lineNbr": 465,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "please describe it",
      "range": {
        "startLine": 465,
        "startChar": 29,
        "endLine": 465,
        "endChar": 55
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4ae4f45_6072dbbc",
        "filename": "containers/base/common.sh",
        "patchSetId": 13
      },
      "lineNbr": 465,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "cfc51a60_b1115310",
      "range": {
        "startLine": 465,
        "startChar": 29,
        "endLine": 465,
        "endChar": 55
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e1ce4cb2_39dd9227",
        "filename": "containers/external/rsyslogd/Dockerfile",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "i\u0027ve already asked to remove license\u0027s code.",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4fccf48c_23a4ac7a",
        "filename": "containers/external/rsyslogd/Dockerfile",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "e1ce4cb2_39dd9227",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d7b0c042_64ad6828",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "and why ENV definition is needed in Dockerfile? just to increase file size?",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b878aff9_b9e992a0",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "Do you mean if I define here and I can access using this variable in Dockerfile so no need to define there? I tried that it does not work,",
      "parentUuid": "d7b0c042_64ad6828",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9668c06f_0a1ebf54",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-20T04:46:39Z",
      "side": 1,
      "message": "yes. i meant exactly this. if you can\u0027t manage this then please remove ENV from Dockerfile. it doesn\u0027t have sense in this case.",
      "parentUuid": "b878aff9_b9e992a0",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ed35c936_8f3b5e3a",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 5,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-20T19:44:31Z",
      "side": 1,
      "message": "How I can access the variable rsyslogd_pid_file inside Dockerfile, if I do not define there. I need this CMD rsyslogd -n -f /etc/rsyslog.conf -i $RSYSLOGD_PIDFILE in Dockerfile,\n\nDirectly accessing $rsyslogd_pid_file in Dockerfile does not work.",
      "parentUuid": "9668c06f_0a1ebf54",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5aa1c3a6_b92e085d",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "why \u0027exec\u0027? does this service requires root privileges?",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 4
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1978dd14_0548551c",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "Yes, it requires root privileges.",
      "parentUuid": "5aa1c3a6_b92e085d",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 4
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "24d05538_db45fc85",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-20T04:46:39Z",
      "side": 1,
      "message": "did you try to run it with run_service? what exactly it is needed?",
      "parentUuid": "1978dd14_0548551c",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 4
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6f724f8b_af3d1b94",
        "filename": "containers/external/rsyslogd/contrail-entrypoint.sh",
        "patchSetId": 13
      },
      "lineNbr": 15,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-20T19:44:31Z",
      "side": 1,
      "message": "Yeah, I tried, as it has to access /var/run and create socket file, it throws error with permission denied.",
      "parentUuid": "24d05538_db45fc85",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 4
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "896dc66a_84cc516e",
        "filename": "containers/external/rsyslogd/rsyslog.conf",
        "patchSetId": 13
      },
      "lineNbr": 33,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "should all these folder be mounted into syslog container? or it will use something useless from container?",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "972311cc_1b668fba",
        "filename": "containers/external/rsyslogd/rsyslog.conf",
        "patchSetId": 13
      },
      "lineNbr": 33,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "This is the default configuration when rsyslogd gets installed, nothing has been changed from here.",
      "parentUuid": "896dc66a_84cc516e",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc7f3f99_f360bef7",
        "filename": "containers/external/rsyslogd/rsyslog.d/contrail-loadbalancer-haproxy.conf",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "is it shared file? with what container? where second container is placed?",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2e44911_6518d933",
        "filename": "containers/external/rsyslogd/rsyslog.d/contrail-loadbalancer-haproxy.conf",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "This socket is being used here: https://github.com/Juniper/contrail-controller/blob/d26994f82810ce62716dec2477ba31c529b86945/src/config/svc-monitor/svc_monitor/services/loadbalancer/drivers/ha_proxy/haproxy_config.py#L114 now with path and socket name change,",
      "parentUuid": "dc7f3f99_f360bef7",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e30ff49_846f1769",
        "filename": "containers/external/rsyslogd/rsyslog.d/contrail-loadbalancer-haproxy.conf",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-20T04:46:39Z",
      "side": 1,
      "message": "how svcmon does access this file from different machine?",
      "parentUuid": "a2e44911_6518d933",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b89d4cae_7d909970",
        "filename": "containers/external/rsyslogd/rsyslog.d/contrail-loadbalancer-haproxy.conf",
        "patchSetId": 13
      },
      "lineNbr": 1,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-20T19:44:31Z",
      "side": 1,
      "message": "svcmon creates the haproxy config object (code path as sent in the last comment) and then passes to control node, vrouter agent reads that and creates haproxy instance. So, it does not matter where svcmon sits.",
      "parentUuid": "3e30ff49_846f1769",
      "range": {
        "startLine": 1,
        "startChar": 22,
        "endLine": 1,
        "endChar": 25
      },
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6301c7ba_e079dc89",
        "filename": "containers/status/contrail-status.py",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-19T21:04:37Z",
      "side": 1,
      "message": "i disagree that this is a shared service. I can\u0027t conclude this from ansible-deployer review. moreover - i can conclude that rsyslog container must be now a part of vrouter POD.",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d43340d1_a905fdf1",
        "filename": "containers/status/contrail-status.py",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-19T22:33:45Z",
      "side": 1,
      "message": "rsyslogd is a shared service, used both by contrail-vrouter and flow collector module.",
      "parentUuid": "6301c7ba_e079dc89",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6421e357_4a95ce97",
        "filename": "containers/status/contrail-status.py",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 382
      },
      "writtenOn": "2019-09-20T04:46:39Z",
      "side": 1,
      "message": "where is flow collector is defined? is it in contrail-status? will syslog be deployed twice if vrouter and flow collector will be on different nodes?",
      "parentUuid": "d43340d1_a905fdf1",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecc86ebc_5b231baf",
        "filename": "containers/status/contrail-status.py",
        "patchSetId": 13
      },
      "lineNbr": 100,
      "author": {
        "id": 49
      },
      "writtenOn": "2019-09-20T19:44:31Z",
      "side": 1,
      "message": "syslog will not be deployed twice. flow collector is provisioned through UI. and defined in instances.yml using appformix_flows role. rsyslog will be deployed along with vrouter installation, but it is used by vrouter and flow-collector, same as redis, deployed once, but used by webui, analytics components.",
      "parentUuid": "6421e357_4a95ce97",
      "revId": "0a4b147f19ff6d90771942a346fab5ee5f496c9a",
      "serverId": "c72cd27d-1743-4a55-84a4-cd13b8400c52",
      "unresolved": true
    }
  ]
}